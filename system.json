{
  "name": "sudc-system",
  "namespace": "sudc",
  "id": "62999e58-66a0-4e50-a870-f2673acf6c79",
  "containerDefinitions": [
    {
      "type": "blank-container",
      "id": "awsRoot",
      "name": "awsRoot"
    },
    {
      "type": "aws-elb",
      "specific": {
        "LoadBalancerName": "webElb",
        "Listeners": [
          {
            "Protocol": "HTTP",
            "LoadBalancerPort": 80,
            "InstanceProtocol": "HTTP",
            "InstancePort": 8000
          }
        ],
        "AvailabilityZones": [
          "us-west-2a"
        ],
        "Subnets": [
          "subnet-838e7ef4"
        ]
      },
      "id": "awsWebElb",
      "name": "awsWebElb"
    },
    {
      "type": "aws-sg",
      "specific": {
        "GroupName": "webSg",
        "Description": "Web security group",
        "IpPermissions": [
          {
            "IpProtocol": "tcp",
            "FromPort": 3000,
            "ToPort": 3000,
            "UserIdGroupPairs": [],
            "IpRanges": [
              {
                "CidrIp": "0.0.0.0/0"
              }
            ]
          },
          {
            "IpProtocol": "tcp",
            "FromPort": 22,
            "ToPort": 22,
            "UserIdGroupPairs": [],
            "IpRanges": [
              {
                "CidrIp": "0.0.0.0/0"
              }
            ]
          },
          {
            "IpProtocol": "tcp",
            "FromPort": 9002,
            "ToPort": 9002,
            "UserIdGroupPairs": [],
            "IpRanges": [
              {
                "CidrIp": "0.0.0.0/0"
              }
            ]
          },
          {
            "IpProtocol": "tcp",
            "FromPort": 873,
            "ToPort": 873,
            "UserIdGroupPairs": [],
            "IpRanges": [
              {
                "CidrIp": "10.0.0.0/8"
              }
            ]
          },
          {
            "IpProtocol": "tcp",
            "FromPort": 9001,
            "ToPort": 9001,
            "UserIdGroupPairs": [],
            "IpRanges": [
              {
                "CidrIp": "0.0.0.0/0"
              }
            ]
          },
          {
            "IpProtocol": "tcp",
            "FromPort": 9000,
            "ToPort": 9000,
            "UserIdGroupPairs": [],
            "IpRanges": [
              {
                "CidrIp": "0.0.0.0/0"
              }
            ]
          },
          {
            "IpProtocol": "tcp",
            "FromPort": 8000,
            "ToPort": 8000,
            "UserIdGroupPairs": [],
            "IpRanges": [
              {
                "CidrIp": "0.0.0.0/0"
              }
            ]
          }
        ],
        "IpPermissionsEgress": [
          {
            "IpProtocol": "-1",
            "UserIdGroupPairs": [],
            "IpRanges": [
              {
                "CidrIp": "0.0.0.0/0"
              }
            ]
          }
        ],
        "VpcId": "vpc-bfbf79da",
        "Tags": []
      },
      "id": "awsWebSg",
      "name": "awsWebSg"
    },
    {
      "type": "aws-ami",
      "id": "awsMachine",
      "name": "awsMachine"
    },
    {
      "type": "blank-container",
      "id": "root",
      "name": "root"
    },
    {
      "type": "docker",
      "specific": {
        "repositoryUrl": "git@github.com:nearform/sudc-doc.git",
        "buildScript": "build.sh",
        "execute": {
          "args": "-p 9002:9002 -d",
          "exec": "/usr/bin/node /srv/doc-srv.js"
        },
        "dockerImageId": "1a851064660f366558995aa18b93c2e6ea82eefe2bdd1104b9372abdad596f55",
        "containerBinary": "/home/ubuntu/work/sudc-system/builds/doc-6",
        "dockerLocalTag": "sudc/doc-6",
        "buildNumber": 6,
        "version": "0.0.0",
        "buildHead": 7,
        "binary": "/home/ubuntu/work/sudc-system/builds/doc-6"
      },
      "id": "doc",
      "name": "doc"
    },
    {
      "type": "docker",
      "specific": {
        "repositoryUrl": "git@github.com:nearform/sudc-history.git",
        "buildScript": "build.sh",
        "execute": {
          "args": "-p 9000:9000 -d",
          "exec": "/usr/bin/node /srv/hist-srv.js"
        },
        "dockerImageId": "155c54fdb350de24d83b42ddb4b56e1d068131a8a945a7471957cebf831dce03",
        "containerBinary": "/home/ubuntu/work/sudc-system/builds/hist-3",
        "dockerLocalTag": "sudc/hist-3",
        "buildNumber": 3,
        "version": "0.0.0",
        "buildHead": 4,
        "binary": "/home/ubuntu/work/sudc-system/builds/hist-3"
      },
      "id": "hist",
      "name": "hist"
    },
    {
      "type": "docker",
      "specific": {
        "repositoryUrl": "git@github.com:nearform/sudc-realtime.git",
        "buildScript": "build.sh",
        "execute": {
          "args": "-p 9001:9001 -d",
          "exec": "/usr/bin/node /srv/real-srv.js"
        },
        "dockerImageId": "9ecfdea3a9adc0fae0cfbf289f5edf7d4397f9cb482d3677faf228ed6c211c29",
        "containerBinary": "/home/ubuntu/work/sudc-system/builds/real-4",
        "dockerLocalTag": "sudc/real-4",
        "buildNumber": 4,
        "version": "0.0.0",
        "buildHead": 5,
        "binary": "/home/ubuntu/work/sudc-system/builds/real-4"
      },
      "id": "real",
      "name": "real"
    },
    {
      "type": "docker",
      "specific": {
        "repositoryUrl": "git@github.com:nearform/sudc-web.git",
        "buildScript": "build.sh",
        "execute": {
          "args": "-p 8000:8000 -d",
          "exec": "/bin/bash /web/run.sh"
        },
        "dockerImageId": "425aa0aedf790c3a34c8a545389c04d9556f31f2dccd9ab53b4af87bc1f10b55",
        "containerBinary": "/home/ubuntu/work/sudc-system/builds/web-3",
        "dockerLocalTag": "sudc/web-3",
        "buildNumber": 3,
        "version": "0.0.0",
        "buildHead": 4,
        "binary": "/home/ubuntu/work/sudc-system/builds/web-3"
      },
      "id": "web",
      "name": "web"
    }
  ],
  "topology": {
    "containers": {
      "awsWebElb-1bd74778": {
        "id": "awsWebElb-1bd74778",
        "containedBy": "awsWebElb-1bd74778",
        "containerDefinitionId": "awsWebElb",
        "type": "aws-elb",
        "contains": [
          "awsWebSg-b5e731b6"
        ],
        "specific": {
          "LoadBalancerName": "webElb",
          "Listeners": [
            {
              "Protocol": "HTTP",
              "LoadBalancerPort": 80,
              "InstanceProtocol": "HTTP",
              "InstancePort": 8000
            }
          ],
          "AvailabilityZones": [
            "us-west-2a"
          ],
          "Subnets": [
            "subnet-838e7ef4"
          ]
        },
        "nativeId": "webElb-1617703544.us-west-2.elb.amazonaws.com"
      },
      "awsWebSg-b5e731b6": {
        "id": "awsWebSg-b5e731b6",
        "containedBy": "awsWebElb-1bd74778",
        "containerDefinitionId": "awsWebSg",
        "type": "aws-sg",
        "contains": [
          "awsMachine-9f586a08",
          "awsMachine-4fd2667"
        ],
        "specific": {
          "GroupName": "webSg",
          "Description": "Web security group",
          "IpPermissions": [
            {
              "IpProtocol": "tcp",
              "FromPort": 3000,
              "ToPort": 3000,
              "UserIdGroupPairs": [],
              "IpRanges": [
                {
                  "CidrIp": "0.0.0.0/0"
                }
              ]
            },
            {
              "IpProtocol": "tcp",
              "FromPort": 22,
              "ToPort": 22,
              "UserIdGroupPairs": [],
              "IpRanges": [
                {
                  "CidrIp": "0.0.0.0/0"
                }
              ]
            },
            {
              "IpProtocol": "tcp",
              "FromPort": 9002,
              "ToPort": 9002,
              "UserIdGroupPairs": [],
              "IpRanges": [
                {
                  "CidrIp": "0.0.0.0/0"
                }
              ]
            },
            {
              "IpProtocol": "tcp",
              "FromPort": 873,
              "ToPort": 873,
              "UserIdGroupPairs": [],
              "IpRanges": [
                {
                  "CidrIp": "10.0.0.0/8"
                }
              ]
            },
            {
              "IpProtocol": "tcp",
              "FromPort": 9001,
              "ToPort": 9001,
              "UserIdGroupPairs": [],
              "IpRanges": [
                {
                  "CidrIp": "0.0.0.0/0"
                }
              ]
            },
            {
              "IpProtocol": "tcp",
              "FromPort": 9000,
              "ToPort": 9000,
              "UserIdGroupPairs": [],
              "IpRanges": [
                {
                  "CidrIp": "0.0.0.0/0"
                }
              ]
            },
            {
              "IpProtocol": "tcp",
              "FromPort": 8000,
              "ToPort": 8000,
              "UserIdGroupPairs": [],
              "IpRanges": [
                {
                  "CidrIp": "0.0.0.0/0"
                }
              ]
            }
          ],
          "IpPermissionsEgress": [
            {
              "IpProtocol": "-1",
              "UserIdGroupPairs": [],
              "IpRanges": [
                {
                  "CidrIp": "0.0.0.0/0"
                }
              ]
            }
          ],
          "VpcId": "vpc-bfbf79da",
          "Tags": []
        },
        "nativeId": "sg-bb9ff3de"
      },
      "awsMachine-9f586a08": {
        "id": "awsMachine-9f586a08",
        "containedBy": "awsWebSg-b5e731b6",
        "containerDefinitionId": "awsMachine",
        "type": "aws-ami",
        "contains": [
          "web-3b8fd4eb"
        ],
        "specific": {}
      },
      "web-3b8fd4eb": {
        "id": "web-3b8fd4eb",
        "containedBy": "awsMachine-9f586a08",
        "containerDefinitionId": "web",
        "type": "docker",
        "contains": [],
        "specific": {
          "repositoryUrl": "git@github.com:nearform/sudc-web.git",
          "buildScript": "build.sh",
          "execute": {
            "args": "-p 8000:8000 -d",
            "exec": "/bin/bash /web/run.sh"
          },
          "dockerImageId": "425aa0aedf790c3a34c8a545389c04d9556f31f2dccd9ab53b4af87bc1f10b55",
          "containerBinary": "/home/ubuntu/work/sudc-system/builds/web-3",
          "dockerLocalTag": "sudc/web-3",
          "buildNumber": 3,
          "version": "0.0.0",
          "buildHead": 4,
          "binary": "/home/ubuntu/work/sudc-system/builds/web-3"
        }
      },
      "awsMachine-4fd2667": {
        "id": "awsMachine-4fd2667",
        "containedBy": "awsWebSg-b5e731b6",
        "containerDefinitionId": "awsMachine",
        "type": "aws-ami",
        "contains": [
          "doc-a680359d",
          "hist-d187050b",
          "real-488e54b1"
        ],
        "specific": {}
      },
      "doc-a680359d": {
        "id": "doc-a680359d",
        "containedBy": "awsMachine-4fd2667",
        "containerDefinitionId": "doc",
        "type": "docker",
        "contains": [],
        "specific": {
          "repositoryUrl": "git@github.com:nearform/sudc-doc.git",
          "buildScript": "build.sh",
          "execute": {
            "args": "-p 9002:9002 -d",
            "exec": "/usr/bin/node /srv/doc-srv.js"
          },
          "dockerImageId": "1a851064660f366558995aa18b93c2e6ea82eefe2bdd1104b9372abdad596f55",
          "containerBinary": "/home/ubuntu/work/sudc-system/builds/doc-6",
          "dockerLocalTag": "sudc/doc-6",
          "buildNumber": 6,
          "version": "0.0.0",
          "buildHead": 7,
          "binary": "/home/ubuntu/work/sudc-system/builds/doc-6"
        }
      },
      "hist-d187050b": {
        "id": "hist-d187050b",
        "containedBy": "awsMachine-4fd2667",
        "containerDefinitionId": "hist",
        "type": "docker",
        "contains": [],
        "specific": {
          "repositoryUrl": "git@github.com:nearform/sudc-history.git",
          "buildScript": "build.sh",
          "execute": {
            "args": "-p 9000:9000 -d",
            "exec": "/usr/bin/node /srv/hist-srv.js"
          },
          "dockerImageId": "155c54fdb350de24d83b42ddb4b56e1d068131a8a945a7471957cebf831dce03",
          "containerBinary": "/home/ubuntu/work/sudc-system/builds/hist-3",
          "dockerLocalTag": "sudc/hist-3",
          "buildNumber": 3,
          "version": "0.0.0",
          "buildHead": 4,
          "binary": "/home/ubuntu/work/sudc-system/builds/hist-3"
        }
      },
      "real-488e54b1": {
        "id": "real-488e54b1",
        "containedBy": "awsMachine-4fd2667",
        "containerDefinitionId": "real",
        "type": "docker",
        "contains": [],
        "specific": {
          "repositoryUrl": "git@github.com:nearform/sudc-realtime.git",
          "buildScript": "build.sh",
          "execute": {
            "args": "-p 9001:9001 -d",
            "exec": "/usr/bin/node /srv/real-srv.js"
          },
          "dockerImageId": "9ecfdea3a9adc0fae0cfbf289f5edf7d4397f9cb482d3677faf228ed6c211c29",
          "containerBinary": "/home/ubuntu/work/sudc-system/builds/real-4",
          "dockerLocalTag": "sudc/real-4",
          "buildNumber": 4,
          "version": "0.0.0",
          "buildHead": 5,
          "binary": "/home/ubuntu/work/sudc-system/builds/real-4"
        }
      }
    }
  },
  "dirty": false
}
