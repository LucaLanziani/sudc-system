{
  "name": "sudc-system",
  "namespace": "sudc",
  "id": "62999e58-66a0-4e50-a870-f2673acf6c79",
  "containerDefinitions": [
    {
      "type": "blank-container",
      "id": "root",
      "name": "root"
    },
    {
      "type": "aws-elb",
      "specific": {
        "protocol": "HTTP",
        "loadBalancerPort": 80,
        "instanceProtocol": "HTTP",
        "instancePort": 8000
      },
      "id": "webElb",
      "name": "webElb",
      "nativeId": "sudc-bal-1117399678.us-west-2.elb.amazonaws.com"
    },
    {
      "type": "blank-container",
      "specific": {
        "ingress": [
          {
            "ipProtocol": "tcp",
            "fromPort": 22,
            "toPort": 22,
            "ipRanges": [
              {
                "cidrIp": "0.0.0.0/0"
              }
            ]
          },
          {
            "ipProtocol": "tcp",
            "fromPort": 3000,
            "toPort": 3000,
            "ipRanges": [
              {
                "cidrIp": "0.0.0.0/0"
              }
            ]
          }
        ],
        "egress": []
      },
      "id": "webSg",
      "name": "webSg",
      "nativeId": "sg-5bdc573e"
    },
    {
      "type": "aws-ami",
      "id": "machine",
      "name": "machine"
    },
    {
      "type": "docker",
      "specific": {
        "repositoryUrl": "git@github.com:nearform/sudc-doc.git",
        "buildScript": "build.sh",
        "execute": {
          "args": "-p 9002:9002 -d",
          "exec": "/usr/bin/node /srv/doc-srv.js"
        },
        "buildHead": 4,
        "binary": "/Users/pelger/work/nearform/code/product/nscale/examples/sudc/sudc-system/builds/doc-3",
        "dockerImageId": "19279ac8130e9148bce4ac406e59eec215fa0cee5d4aa88299510c51c7f3269c"
      },
      "id": "doc",
      "name": "doc"
    },
    {
      "type": "docker",
      "specific": {
        "repositoryUrl": "git@github.com:nearform/sudc-history.git",
        "buildScript": "build.sh",
        "execute": {
          "args": "-p 9000:9000 -d",
          "exec": "/usr/bin/node /srv/hist-srv.js"
        },
        "buildHead": 2,
        "binary": "/Users/pelger/work/nearform/code/product/nscale/examples/sudc/sudc-system/builds/hist-1",
        "dockerImageId": "ffd8a6a135bdf9f8b3f783be61f1b29f54391af9e53295aa194a21abfc29c419"
      },
      "id": "hist",
      "name": "hist"
    },
    {
      "type": "docker",
      "specific": {
        "repositoryUrl": "git@github.com:nearform/sudc-realtime.git",
        "buildScript": "build.sh",
        "execute": {
          "args": "-p 9001:9001 -d",
          "exec": "/usr/bin/node /srv/real-srv.js"
        },
        "buildHead": 3,
        "binary": "/Users/pelger/work/nearform/code/product/nscale/examples/sudc/sudc-system/builds/real-2",
        "dockerImageId": "3d8943bbd715b253d288d3da06fa98cc1d2582fa9064fbd63455c7aa31f71472"
      },
      "id": "real",
      "name": "real"
    },
    {
      "type": "docker",
      "specific": {
        "repositoryUrl": "git@github.com:nearform/sudc-web.git",
        "buildScript": "build.sh",
        "execute": {
          "args": "-p 8000:8000 -d",
          "exec": "/bin/bash /web/run.sh"
        },
        "buildHead": 2,
        "binary": "/Users/pelger/work/nearform/code/product/nscale/examples/sudc/sudc-system/builds/web-1",
        "dockerImageId": "493cd7b5579ee54dbfa5a50364add2d0b11532c0a1ab7870f23b2d10e967f2b0"
      },
      "id": "web",
      "name": "web"
    }
  ],
  "topology": {
    "containers": {
      "webElb-7bbd309b": {
        "id": "webElb-7bbd309b",
        "containedBy": "webElb-7bbd309b",
        "containerDefinitionId": "webElb",
        "type": "aws-elb",
        "contains": [
          "webSg-af30ca23"
        ],
        "specific": {}
      },
      "webSg-af30ca23": {
        "id": "webSg-af30ca23",
        "containedBy": "webElb-7bbd309b",
        "containerDefinitionId": "webSg",
        "type": "blank-container",
        "contains": [
          "machine-3c7fde6",
          "machine-14bce9a5"
        ],
        "specific": {}
      },
      "machine-3c7fde6": {
        "id": "machine-3c7fde6",
        "containedBy": "webSg-af30ca23",
        "containerDefinitionId": "machine",
        "type": "aws-ami",
        "contains": [
          "web-951990f1"
        ],
        "specific": {}
      },
      "web-951990f1": {
        "id": "web-951990f1",
        "containedBy": "machine-3c7fde6",
        "containerDefinitionId": "web",
        "type": "docker",
        "contains": [],
        "specific": {
          "dockerImageId": "493cd7b5579ee54dbfa5a50364add2d0b11532c0a1ab7870f23b2d10e967f2b0",
          "containerBinary": "/Users/pelger/work/nearform/code/product/nscale/examples/sudc/sudc-system/builds/web-1",
          "dockerLocalTag": "sudc/web-1",
          "buildNumber": 1,
          "version": "0.0.0"
        }
      },
      "machine-14bce9a5": {
        "id": "machine-14bce9a5",
        "containedBy": "webSg-af30ca23",
        "containerDefinitionId": "machine",
        "type": "aws-ami",
        "contains": [
          "docsrv-54974f31",
          "histsrv-23907fa7",
          "realsrv-ba992e1d"
        ],
        "specific": {}
      },
      "docsrv-54974f31": {
        "id": "docsrv-54974f31",
        "containedBy": "machine-14bce9a5",
        "containerDefinitionId": "docsrv",
        "contains": [],
        "specific": {}
      },
      "histsrv-23907fa7": {
        "id": "histsrv-23907fa7",
        "containedBy": "machine-14bce9a5",
        "containerDefinitionId": "histsrv",
        "contains": [],
        "specific": {}
      },
      "realsrv-ba992e1d": {
        "id": "realsrv-ba992e1d",
        "containedBy": "machine-14bce9a5",
        "containerDefinitionId": "realsrv",
        "contains": [],
        "specific": {}
      }
    }
  }
}
